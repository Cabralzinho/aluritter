(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8480:function(e,t,s){Promise.resolve().then(s.bind(s,7856))},7856:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),l=s(3136),r=s(2307),n=s(2265);let c=()=>{let[e,t]=(0,n.useState)(255),[s,c]=(0,n.useState)("");return(0,a.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault();let a=(0,r.N8)(),n=(0,r.iH)(a,"posts"),i=(0,r.VF)(n),u=new Date,o=u.toLocaleTimeString("pt-BR"),x=u.toLocaleDateString("pt-BR");(0,r.t8)(i,{email:null===(t=l.I.currentUser)||void 0===t?void 0:t.email,text:s,hours:"".concat(x," - ").concat(o)}),c("")},className:"w-full h-full max-w-[70rem] flex flex-col gap-3 desktop:px-4",children:[(0,a.jsx)("label",{className:"pl-2",children:"Alutire agora mesmo..."}),(0,a.jsx)("textarea",{onChange:e=>{let s=e.target.value,a=255-s.length;a>=0&&(t(a),c(s)),a<0&&(e.target.value=s.slice(0,255))},value:s,className:"border border-slate-300 h-[8rem] max-h-[8rem] resize-none outline-none px-2 rounded"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("p",{className:"text-green-500 text-sm",children:["Voc\xea ainda pode digitar ",e," caracteres"]}),(0,a.jsx)("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-400 transition-all text-white px-4 py-2 rounded",children:"Aluritar"})]})]})};var i=s(3085),u=s(4033);let o=()=>{let e=(0,u.useRouter)(),t=async()=>{try{await (0,i.w7)(l.I),e.push("/login")}catch(e){console.log(e)}};return(0,a.jsx)("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 transition-all text-white px-4 py-1 rounded",children:"Sair"})},x=()=>{let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{t(e)});return()=>e()},[]),e},d=()=>{let e=x();return(0,a.jsx)("header",{children:(0,a.jsxs)("nav",{className:"bg-white flex justify-between items-center px-6 py-3",children:[(0,a.jsx)("p",{className:"text-lg text-cyan-500",children:"Aluritter"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:null==e?void 0:e.email}),(0,a.jsx)(o,{})]})]})})},m=()=>{var e;let[t,s]=(0,n.useState)([]),c=(0,r.N8)(),i=null===(e=l.I.currentUser)||void 0===e?void 0:e.uid;return(0,n.useEffect)(()=>{let e=(0,r.iH)(c,"posts");(0,r.jM)(e,e=>{let t=e.val();t&&s(Object.values(t))})},[i,c]),(0,a.jsx)("section",{className:"flex flex-col justify-center items-center desktop:px-4 gap-4",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"w-full h-full max-w-[70rem] bg-white flex flex-col gap-8 px-4 pt-4 pb-1",children:[(0,a.jsx)("p",{className:"text-gray-600",children:e.text}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-cyan-600",children:e.email}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.hours})]})]},t))})};function p(){let e=(0,u.useRouter)();return l.I.onAuthStateChanged(t=>{t||e.push("/login")}),(0,a.jsxs)("main",{className:"gap-10 flex flex-col pb-4",children:[(0,a.jsx)(d,{}),(0,a.jsx)("section",{className:"flex flex-col justify-center items-center",children:(0,a.jsx)(c,{})}),(0,a.jsx)(m,{})]})}},3136:function(e,t,s){"use strict";s.d(t,{I:function(){return c}});var a=s(994),l=s(3085),r=s(2307);let n=(0,a.ZF)({apiKey:"AIzaSyDXq2CWrZ3-oDGNshE72P-PyqwJdPdqUXc",authDomain:"aluritter-ec6f6.firebaseapp.com",projectId:"aluritter-ec6f6",storageBucket:"aluritter-ec6f6.appspot.com",messagingSenderId:"290853162928",appId:"1:290853162928:web:406b9cef94e802f581d075",databaseURL:"https://aluritter-ec6f6-default-rtdb.firebaseio.com/"}),c=(0,l.v0)(n);(0,r.N8)(n)}},function(e){e.O(0,[481,220,96,971,938,744],function(){return e(e.s=8480)}),_N_E=e.O()}]);